---
title: Vivliostyle Theme ã®ã¤ãã‚Šã‹ãŸ
category: éæ—¥è¨˜
tags:
created_at: '2021-06-19T00:59:37+09:00'
updated_at: '2021-06-19T13:03:09+09:00'
published: true
number: 3027
---

æœ¬ç¨¿ã¯ã€Vivliostyle Theme ã‚’è‡ªä½œã—ã¦é…å¸ƒã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦æ›¸ã‹ã‚ŒãŸã‚‚ã®ã§ã™ã€‚å†…å®¹ã¯[Vivliostyle ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨é–‹ç™ºè€…ã®é›†ã„ 2021æ˜¥](https://vivliostyle.connpass.com/event/208401/)ã§è©±ã—ãŸã‚‚ã®ã§ã™ã€‚

## ã¯ã˜ã‚ã«
ã“ã‚“ã«ã¡ã¯ã€[ã‚„ã¾ã—ãƒ¼](https://twitter.com/yamasy1549)ã¨ã„ã„ã¾ã™ã€‚Vivliostyle ãƒ¦ãƒ¼ã‚¶æ­´ã¯ã‚‚ã† 4 å¹´è¿‘ããªã‚Šã¾ã™ã€‚

æœ€åˆã®åŒäººèªŒ[ã€Vivliostyle ã§æœ¬ã‚’ä½œã‚ã† Vol.1ã€](https://vivliostyle.github.io/vivliostyle_doc/ja/vivliostyle-user-group-vol1/) ã§ã¯ã€[ã€CSS çµ„ç‰ˆã‚„ã£ã¦ã¿ãŸï¼ã€](https://vivliostyle.github.io/vivliostyle_doc/ja/vivliostyle-user-group-vol1/yamasy/index.html)ã¨ã„ã†é¡Œã§ Vivliostyle ã‚’ä½¿ã£ã¦åŒäººèªŒã‚„å’è«–ã‚’æ›¸ã„ãŸéš›ã® tips ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚å‰å›ã®åŒäººèªŒ[ã€Vivliostyle ã§æœ¬ã‚’ä½œã‚ã† Vol.4ã€](https://vivliostyle.github.io/vivliostyle_doc/ja/vivliostyle-user-group-vol4/) ã§ã¯[ã€@vivliostyle/theme-academic ã§ãƒ¬ãƒãƒ¼ãƒˆæ›¸ã„ã¦ã¿ãŸï¼ã€](https://vivliostyle.github.io/vivliostyle_doc/ja/vivliostyle-user-group-vol4/artifacts/content/yamasy/index.html)ã¨ã„ã†é¡Œã§è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã¾ã™ã€‚æœ¬ç¨¿ã§ã¯ã€Vivliostyle ã‚’ä½¿ã£ã¦å‡ºç‰ˆç‰©ã‚’ä½œã‚‹éš›ã«å¿…è¦ã«ãªã‚‹ Vivliostyle Theme ã‚’è‡ªä½œã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## Vivliostyle Theme ã¨ã¯
Vivliostyle Theme ã¯ã€Vivliostyle ã§å‡ºç‰ˆç‰©ã‚’ä½œã‚‹éš›ã«ä½¿ã†ã‚¹ã‚¿ã‚¤ãƒ«ãƒ†ãƒ¼ãƒã§ã™ã€‚Theme ã®å®Ÿä½“ã¯ã€CSS ãƒ•ã‚¡ã‚¤ãƒ«ã¨ package.json ã¨ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã§ã™ã€‚

Vivliostyle Foundation ã§ã¯ã€æ±ç”¨çš„ã§å¤šãã®äººã«ä½¿ã£ã¦ã‚‚ã‚‰ãˆãã†ãªã‚¹ã‚¿ã‚¤ãƒ«ã‚’å…¬å¼ Theme ã¨ã—ã¦å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚ãã‚Œä»¥å¤–ã®å€‹äººã‚„çµ„ç¹”ãŒå…¬é–‹ã—ãŸã‚‚ã®ã‚’ä¾¿å®œä¸Šéå…¬å¼ Theme ã¨å‘¼ã³ã¾ã™ãŒã€å…¬å¼ãƒ»éå…¬å¼ã®é•ã„ã¯ç®¡ç†è€…ä»¥å¤–ã«ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æœ¬ç¨¿åŸ·ç­†ç¾åœ¨ã€å…¬å¼ Theme ã¨ã—ã¦æ¬¡ã® 4 ã¤ã® Theme ã¨ã„ãã¤ã‹ã®éå…¬å¼ Theme ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
- [theme-bunko](https://github.com/vivliostyle/themes/tree/master/packages/%40vivliostyle/theme-bunko)ï¼šA5ã‚µã‚¤ã‚ºã®ç¸¦æ›¸ããƒ†ãƒ¼ãƒ
- [theme-slide](https://github.com/vivliostyle/themes/tree/master/packages/%40vivliostyle/theme-slide)ï¼šã‚¹ãƒ©ã‚¤ãƒ‰è³‡æ–™ç”¨ãƒ†ãƒ¼ãƒ
- [theme-techbook](https://github.com/vivliostyle/themes/tree/master/packages/%40vivliostyle/theme-techbook)ï¼šå°åˆ·ç”¨ã«å°å£ãƒ»ãƒãƒ‰ã®ä½™ç™½ã‚’èª¿æ•´ã—ãŸã€B5ã‚µã‚¤ã‚ºã®æ¨ªæ›¸ããƒ†ãƒ¼ãƒ
- [theme-academic](https://github.com/vivliostyle/themes/tree/master/packages/%40vivliostyle/theme-academic)ï¼šA4ã‚µã‚¤ã‚ºã®æ¨ªæ›¸ããƒ¬ãƒãƒ¼ãƒˆç”¨ãƒ†ãƒ¼ãƒ

## Theme ã‚’ä½œã£ã¦ã¿ã‚ˆã†
ãã‚Œã§ã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã® Theme ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ä»Šå›ä½œã‚‹ã®ã¯ã€è¤‡æ•°äººã®æ›¸ãæ‰‹ã«ã‚ˆã‚‹å°èª¬åˆåŒèªŒã®ãŸã‚ã® Theme ã§ã™ã€‚ã‹ã‚“ãŸã‚“ãªæ¡ä»¶ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚

- 1 äººãŒ 1 ç« åˆ†ï¼1 ã¤ã®åŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.mdï¼‰ã‚’æ‹…å½“
- å…¨ä½“ã‚’é€šã—ãŸãƒšãƒ¼ã‚¸ç•ªå·ã€ç« ç•ªå·ãŒã»ã—ã„
- ç›®æ¬¡ãŒã»ã—ã„
- è¦‹ãŸç›®ã¯çµ±ä¸€ã™ã‚‹ãŒã€æ›¸ãæ‰‹ã«ã‚ˆã£ã¦ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å¤‰ãˆãŸã„

CSS ã‚„ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ãªã©å…·ä½“çš„ãªéƒ¨åˆ†ã¯ Theme ã”ã¨ã«å¤‰ã‚ã‚Šã¾ã™ãŒã€ä½œæˆæ‰‹é †ã¯ã©ã® Theme ã‚‚åŒã˜ã§ã™ã€‚ãªãŠã€å®Œæˆå“ã¯ [yamasy1549/vivliostyle-theme-my-doujin](https://github.com/yamasy1549/vivliostyle-theme-my-doujin) ã«ã‚ã‚Šã¾ã™ã€‚

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
- create-vivliostyle-theme: 0.3.1
- @vivliostyle/cli: 3.5.0
- @vivliostyle/vfm: v1.0.0-alpha.21
- @vivliostyle/viewer: 2.8.0

### â‘  é››å½¢ã‹ã‚‰ä½œã‚Šã¾ã™
[create-vivliostyle-theme](https://vivliostyle.github.io/themes/packages/create-vivliostyle-theme/) ã¯ Theme ã‚’ä½œã‚‹ã®ã«ä¾¿åˆ©ãªé››å½¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ã£ã¦ã€npm ã¾ãŸã¯ yarn ã§ Theme ã®åŸå‹ã‚’ä½œæˆã—ã¾ã™ã€‚æœ¬ç¨¿ã§ã¯ yarn ã‚’ä½¿ã„ã¾ã™ã€‚

```
$ yarn create vivliostyle-theme my-doujin
? description ã™ã”ã„åˆåŒèªŒã®Theme
? author name ã‚ãŸã—
? author email watashi@example.com
? license AGPL-3.0
? choose category novel

Success! Created vivliostyle-theme-my-doujin.

1. cd vivliostyle-theme-my-doujin
2. edit scss/*.scss
3. publish to npm ($ npm publish)

âœ¨  Done in 46.57s.
```

ã“ã‚ŒãŒ Theme ã®åŸå‹ã§ã™ã€‚Theme ã®ä½œã‚Šæ‰‹ãŒç·¨é›†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ğŸ–‹ãƒãƒ¼ã‚¯ã‚’ã¤ã‘ã¦ç¤ºã—ã¦ã„ã¾ã™ã€‚

```
$ cd vivliostyle-theme-my-doujin
$ tree . -I node_modules
.
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ example                  ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿
â”‚   â”œâ”€â”€ default.html
â”‚   â””â”€â”€ default.md           ğŸ–‹Markdownã‚’æ›¸ã
â”œâ”€â”€ package.json             ğŸ–‹Themeã®æƒ…å ±ã‚’æ›¸ã
â”œâ”€â”€ scss                     ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§3ã¤ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ theme_common.scss    ğŸ–‹ Themeã®å…±é€šéƒ¨åˆ†
â”‚   â”œâ”€â”€ theme_print.scss     ğŸ–‹ å‡ºç‰ˆç‰© (PDF) å°åˆ·ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â””â”€â”€ theme_screen.scss    ğŸ–‹ å‡ºç‰ˆç‰© (HTML) é–²è¦§ç”¨ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ vivliostyle.config.js    ğŸ–‹ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ yarn.lock
```

example/ ã«ã¯ãã® Theme ã®é©ç”¨ä¾‹ã¨ãªã‚‹ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã‚’ç½®ãã¾ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã¯ [Create Book](https://github.com/vivliostyle/create-book) ã‚’ä½¿ã£ã¦å‡ºç‰ˆç‰©ã‚’ä½œã‚‹éš›ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®åŸç¨¿ã¨ã—ã¦æ¡ç”¨ã•ã‚Œã¾ã™ã€‚

scss/ ã«ã¯ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚Vivliostyle Theme ã§ã¯ SCSS ã‚’æ¨å¥¨ã—ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ 3 ã¤ã® SCSS ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¦ãŠã‚Šã€ãã‚Œãã‚Œã®å½¹å‰²ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚ã‚‚ã¡ã‚ã‚“ã€SCSS ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¢—ã‚„ã—ã¦ã‚‚ã‹ã¾ã„ã¾ã›ã‚“ã€‚
- theme_print.scssï¼šPDFå½¢å¼ã®å‡ºç‰ˆç‰©ã‚’å°åˆ·ã™ã‚‹ã¨ãã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã€‚ãƒˆãƒ³ãƒœã®ã‚¹ã‚¿ã‚¤ãƒ«ãªã©ã¯ã“ã“ã§å®šç¾©ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚
- theme_screen.scssï¼šHTMLå½¢å¼ã®å‡ºç‰ˆç‰©ã‚’é–²è¦§ã™ã‚‹ã¨ãã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒç”»é¢å¹…ã„ã£ã±ã„ã«è¡¨ç¤ºã•ã‚Œã‚‹ã®ã‚’é˜²ããŸã‚ã«è¡¨ç¤ºå¹…ã‚’åˆ¶é™ã—ãŸã‚Šã€æ–‡å­—ã‚µã‚¤ã‚ºã‚’èª¿æ•´ã—ãŸã‚Šã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚
- theme_common.scssï¼štheme_print.scss ã‚„ theme_screen.scss ã§å…±é€šã—ã¦ä½¿ã†ã‚¹ã‚¿ã‚¤ãƒ«ã€‚

### â‘¡ ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã‚’ç”¨æ„ã—ã¾ã™

æ¬¡ã«ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã‚’ç”¨æ„ã—ã¾ã™ã€‚ã“ã® Theme ã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯è¤‡æ•°äººã®æ›¸ãæ‰‹ã«ã‚ˆã‚‹å°èª¬åˆåŒèªŒãªã®ã§ã€ãã‚Œã‚‰ã—ã„ã‚µãƒ³ãƒ—ãƒ«ã‚’ç”¨æ„ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚åŸç¨¿ã¯ [VFM](https://github.com/vivliostyle/vfm) ã‚’ä½¿ã£ã¦æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚

```example/ch01.md
# {å¾è¼©|ã‚ãŒã¯ã„}ã¯çŒ«ã§ã‚ã‚‹ã€‚
## å¤ç›® æ¼±çŸ³
{å¾è¼©|ã‚ãŒã¯ã„}ã¯çŒ«ã§ã‚ã‚‹ã€‚åå‰ã¯ã¾ã ç„¡ã„ã€‚...
```

```example/ch02.md
# ç¾…ç”Ÿé–€
## èŠ¥å· é¾ä¹‹ä»‹
ã‚ã‚‹æ—¥ã®æš®æ–¹ã®äº‹ã§ã‚ã‚‹ã€‚ä¸€äººã®{ä¸‹äºº|ã’ã«ã‚“}ãŒ...
```

ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã‚’è¿½åŠ ã—ãŸã‚‰ vivliostyle.config.js ã® entry ã«ã“ã‚Œã‚‰ã‚’ç™»éŒ²ã—ã¦ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã—ãŸåŸç¨¿ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```vivliostyle.config.js
module.exports = {
  language: 'ja',
  theme: 'theme_print.css',
  entry: [
    'example/ch01.md',
    'example/ch02.md',
  ],
}
```

### â‘¢ yarn dev ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¾ã™
ãã‚Œã§ã¯ã€ä»Šä½œã£ãŸã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã«ã‚¹ã‚¿ã‚¤ãƒ« (theme_print.scss) ã‚’é©ç”¨ã—ãŸã‚‚ã®ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® theme_print.scss ã«ã¯ã€ãƒˆãƒ³ãƒœã‚„å·¦ä¸Šã® theme_print ã¨ã„ã†æ–‡å­—ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ãªã‚¹ã‚¿ã‚¤ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚

```
$ yarn dev
```

![ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview1.png)

### â‘£ ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ã‚’è¡¨ç¤ºã—ã¾ã™
æ¬¡ã«ã€ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚theme_common.scss ã«è¿½è¨˜ã—ã¦ã„ã£ã¦ã‚‚ã‚ˆã„ã®ã§ã™ãŒã€ã‚ã‹ã‚Šã‚„ã™ã•ã®ãŸã‚ã€æœ¬ç¨¿ã§ã¯æ–°ã—ã _my_style.scss ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦ãã“ã«æ›¸ã„ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚

```scss/theme_{print,screen}.scss
/* ... */
@import "_my_style";
```

ã¾ãšã¯ãƒšãƒ¼ã‚¸ç•ªå·ã§ã™ã€‚å…¨ãƒšãƒ¼ã‚¸ã®ä¸­ã§ä¸€ç•ªæœ€åˆã®ãƒšãƒ¼ã‚¸ã§ `p` ã‚«ã‚¦ãƒ³ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã€å„ãƒšãƒ¼ã‚¸ã§ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã™ã€‚
```scss/_my_style.scss
@page :first { counter-reset: p; }
@page { counter-increment: p; }

/* å°å£å´ã€ä¸Šã«ãƒšãƒ¼ã‚¸ç•ªå· */
@page :left {
  @top-left { content: counter(p); }
}
@page :right {
  @top-right { content: counter(p); }
}
```

æ¬¡ã«ç« ç•ªå·ã§ã™ã€‚vivliostyle.config.js ã® entry ã«æŒ‡å®šã—ãŸå„ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€ç•ªæœ€åˆã®ãƒšãƒ¼ã‚¸ã§ã€`chapter` ã¨ `p` ã‚«ã‚¦ãƒ³ã‚¿ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã™ã€‚ `@page :first` ã¨ `@page :nth(1)` ã®é•ã„ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚
```scss/_my_style.scss
/* ... */

/* ç« ç•ªå· */
@page :nth(1) {
  counter-increment: chapter p;
}

/* ç« ã‚¿ã‚¤ãƒˆãƒ« */
h1 {
  &::before {
    content: "ç¬¬ " counter(chapter) " ç« ";
    display: block;
  }
}
```

ã™ã‚‹ã¨ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã‚ªãƒ¼ãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„å ´åˆã¯ã‚‚ã†ä¸€åº¦ `yarn dev` ã‚’ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

![ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ãŒè¡¨ç¤ºã•ã‚ŒãŸ](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview3.png)

ã›ã£ã‹ããªã®ã§ã‚‚ã£ã¨æœ¬ã‚‰ã—ã„è¦‹ãŸç›®ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```scss/_my_style.scss
/* ... */

/* ç« ã‚¿ã‚¤ãƒˆãƒ« */
h1 {
  border-top: 10pt solid black;
  &::before {
    content: "ç¬¬ " counter(chapter) " ç« ";
    display: block;
    font-size: 80%;
    margin: 10pt auto;
  }
}

/* è‘—è€…å */
h2 {
  text-align: right;
  border-bottom: 10pt solid black;
}

/* å…¨ä½“ */
html {
  line-height: 2rem;
}
```

![ã¡ã‚‡ã£ã¨å¤ã„æ•™ç§‘æ›¸ã¿ãŸã„ã§ã™ã­](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview4.png)

### â‘¤ ç›®æ¬¡ã‚’è¡¨ç¤ºã—ã¾ã™
ã“ã“ã¾ã§ã§ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ã‚’è¡¨ç¤ºã§ãã¾ã—ãŸã€‚æ¬¡ã¯ç›®æ¬¡ã§ã™ã€‚Vivliostyle ã«ã¯ `<h1>` è¦‹å‡ºã—ã‚’ã‚‚ã¨ã«ç›®æ¬¡ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚‹ã®ã§ã€ã“ã‚Œã‚’ä½¿ã„ã¾ã™ã€‚vivliostyle.config.js ã«ä»¥ä¸‹ã®è¨˜è¿°ã‚’åŠ ãˆã¦å†åº¦ `yarn dev` ã—ã¾ã™ã€‚ã™ã‚‹ã¨ã€ä¸€ç•ªæœ€åˆã®ãƒšãƒ¼ã‚¸ã«ç›®æ¬¡ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

```vivliostyle.config.js
module.exports = {
  // ...
  entry: [
    { rel: 'contents', theme: 'theme_toc.css' },
    'example/ch01.md'
    'example/ch02.md'
  ],
  toc: true,
  tocTitle: "ç›®æ¬¡",
}
```

ç¶šã„ã¦ scss/theme_toc.scss ã¨ã„ã†ç›®æ¬¡å°‚ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚ã²ã¨ã¾ãš theme_common.scss ã‚’ import ã—ã¦ãŠãã¾ã™ã€‚

```scss/theme_toc.scss
@import "theme_common";
```

![ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ç›®æ¬¡](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview5.png)

ã‚‚ã†ã™ã“ã—ã‚·ãƒ¥ãƒƒã¨ã—ãŸè¦‹ãŸç›®ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã¾ãšã€ä¸è¦ãªéƒ¨åˆ†ã‚’éš ã—ã¾ã™ã€‚

```scss/theme_toc.scss
@import "theme_common";

/* ã„ã‚‰ãªã„ã¨ã“ã‚ã‚’æ¶ˆã™ */
@page :left {
  @top-left { content: ""; }
}
@page :right {
  @top-right { content: ""; }
}
h1 { display: none; }
h2 { text-indent: 0; }

nav ol {
  padding: 0;
  list-style: none;
}
```
![ç´ ã£æ°—ãªã„ç›®æ¬¡](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview6.png)

ç›®æ¬¡ã«ã‚‚å¯¾å¿œã™ã‚‹ãƒšãƒ¼ã‚¸ç•ªå·ã¨ç« ç•ªå·ã‚’è¡¨ç¤ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ä¸€æ°—ã«æœ¬ã‚‰ã—ããªã‚Šã¾ã—ãŸã­ï¼ã€€ã“ã‚Œã¯ã‚‚ã†èª°ãŒè¦‹ã¦ã‚‚æœ¬ã§ã™ã€‚

```scss/theme_toc.scss
/* ... */

nav ol {
  /* ... */
  li a {
    text-decoration: none;
    color: inherit;
    &::before {
      content: "ç¬¬ " target-counter(attr(href url), chapter) " ç« ";
      margin-right: 1rem;
    }
    &::after {
      content: target-counter(attr(href url), p);
      float: right;
    }
  }
}
```

![ä¾¿åˆ©ãªç›®æ¬¡](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview7.png)

### â‘¥ åŸç¨¿ã”ã¨ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’è¨­å®šã—ã¾ã™
ã›ã£ã‹ããªã®ã§ã€åŸç¨¿ã”ã¨ï¼ˆä»Šå›ã¯ã¤ã¾ã‚Šã€è‘—è€…ã”ã¨ï¼‰ã«ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’æ±ºã‚ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã‚µãƒ³ãƒ—ãƒ«åŸç¨¿ã‚’å°‘ã—ç·¨é›†ã—ã¾ã™ã€‚`---` ã§å›²ã¾ã‚ŒãŸ [Frontmatter](https://vivliostyle.github.io/vfm/#/vfm#frontmatter) éƒ¨åˆ†ã« class ã‚’æŒ‡å®šã™ã‚‹ã¨ã€bodyè¦ç´ ã«ãã®åå‰ã® class ã‚’ä»˜ä¸ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ã£ã¦ã€åŸç¨¿ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«åˆ¥ã€…ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä¾¿åˆ©ã§ã™ã­ã€‚

```example/ch01.md
---
class: natsume
---

# {å¾è¼©|ã‚ãŒã¯ã„}ã¯çŒ«ã§ã‚ã‚‹ã€‚
...
```

```example/ch02.md
---
class: akutagawa
---

# ç¾…ç”Ÿé–€
...
```

```scss/_my_style.scss
/* ... */

body.natsume {
  h1, h2 {
    border-color: darkcyan;
  }
}

body.akutagawa {
  h1, h2 {
    border-color: sienna;
  }
}
```

![ãŸã¨ãˆã°ã€å¤ç›®ã•ã‚“ã¯ç·‘è‰²](https://github.com/yamasy1549/slides/raw/master/vivliostyle_meetup_20210410/book/assets/preview8.png)

### â‘¦å®Œæˆï¼
ãŠã¤ã‹ã‚Œã•ã¾ã§ã™ï¼ã€€ã“ã‚Œã§ Theme ãŒå®Œæˆã—ã¾ã—ãŸã€‚`yarn publish`ã—ã¦ npm package ã¨ã—ã¦å…¬é–‹ã™ã‚‹ã¨ã€Create Book ã§å‡ºç‰ˆç‰©ã‚’ä½œã‚‹éš›ã«ãã® Theme ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

![Create Book ã® Theme é¸æŠç”»é¢](https://img.esa.io/uploads/production/attachments/9898/2021/06/19/38623/92cee753-ea68-4d5e-846c-43623392c4b0.png)


## ãŠã‚ã‚Šã«
æœ¬ç¨¿ã§ã¯ Vivliostyle Theme ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚å…¬é–‹ã•ã‚ŒãŸä¾¿åˆ©ãª Theme ã¯ã€Create Book ã‚’é€šã—ã¦ä»–ã®äººã«ä½¿ã£ã¦ã‚‚ã‚‰ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ãœã²å…¬é–‹ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

ç¾æ™‚ç‚¹ã§ã¯ã€æ–‡åº«ãƒ©ã‚¤ã‚¯ãªç¸¦æ›¸ãã®æœ¬ã€ã‚¹ãƒ©ã‚¤ãƒ‰ã€æŠ€è¡“åŒäººèªŒã€è«–æ–‡ã‚„ãƒ¬ãƒãƒ¼ãƒˆã¨ã„ã£ãŸå…¬å¼ Theme ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ä»Šå¾Œã¯æ¬§æ–‡æ–‡åº«æœ¬ã‚„ 2 æ®µçµ„ã¿å°èª¬åŒäººèªŒã®å…¬å¼ Theme ã‚’ä½œæˆãƒ»å…¬é–‹ã—ã¦ã„ãäºˆå®šã§ã™ã€‚ ã”æœŸå¾…ãã ã•ã„ã€‚

GitHub ã¸ã®ãƒªãƒ³ã‚¯ï¼šhttps://github.com/vivliostyle/themes
